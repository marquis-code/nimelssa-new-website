(window.webpackJsonp=window.webpackJsonp||[]).push([[20,17],{357:function(t,e,o){t.exports=o.p+"img/add18.cbb5dc4.jpg"},358:function(t,e,o){t.exports={}},365:function(t,e,o){"use strict";o(358)},367:function(t,e,o){"use strict";o.r(e);var r=[function(){var t=this._self._c;return t("div",{staticClass:"flex justify-center items-center"},[t("img",{staticClass:"h-32 w-32",attrs:{src:o(229),alt:"celebration"}})])}],l={props:{show:{type:Boolean,default:!1},title:{type:String,default:"Thanks For Voting"},actionPath:{type:String,default:""},extra:{type:String,default:"5000"},desc:{type:String,default:"Your vote was submitted successfully!"},showActionButton:{type:Boolean,default:!1},resetPassword:{type:Boolean,default:!1},showCloseButton:{type:Boolean,default:!1}},methods:{close:function(){this.$emit("close")},handleRedirection:function(){this.$router.push("/election"),this.close()},handleClick:function(){this.$router.push("/auth/reset"),this.close()},handleLogin:function(){this.$router.push("/auth/login"),this.close()},copyToClipboard:function(){var t=this,text=this.extra;if(navigator.clipboard)navigator.clipboard.writeText(text).then((function(){t.$toastr.s("OTP pin was successfully copied to clipboard!")})).catch((function(e){t.$toastr.e('Could not copy text: "',e)}));else{var textarea=document.createElement("textarea");textarea.value=text,textarea.style.position="fixed",textarea.style.opacity=0,document.body.appendChild(textarea),textarea.focus(),textarea.select();try{document.execCommand("copy")?this.$toastr.s("OTP pin was successfully copied to clipboard!"):this.$toastr.e("Could not copy text")}catch(t){this.$toastr.e('Could not copy text: "',t)}document.body.removeChild(textarea)}}}},n=(o(365),o(16)),component=Object(n.a)(l,(function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 p-4"},[e("div",{staticClass:"bg-white rounded-lg overflow-hidden shadow-xl max-w-md w-full mx-auto"},[t.showCloseButton?e("div",{staticClass:"px-4 py-2 flex justify-between items-center border-b border-gray-200"},[e("h2",{staticClass:"text-lg font-semibold"},[t._v("Success")]),t._v(" "),e("button",{staticClass:"text-gray-600 hover:text-gray-900",on:{click:t.close}},[t._v("\n        Ã—\n      ")])]):t._e(),t._v(" "),e("div",{staticClass:"p-4 text-center space-y-6"},[t._m(0),t._v(" "),e("h1",{staticClass:"text-center text-xl font-semibold"},[t._v(t._s(t.title))]),t._v(" "),e("p",{staticClass:"text-green-600 font-semibold"},[t._v(t._s(t.desc))]),t._v(" "),t.resetPassword?t._e():e("div",{staticClass:"flex justify-center items-center gap-x-3"},[e("button",{staticClass:"flex justify-center items-center gap-x-3",on:{click:t.copyToClipboard}},[e("p",{staticClass:"font-black text-2xl text-gray-700"},[t._v(t._s(t.extra||"500"))]),t._v(" "),e("img",{staticClass:"h-6 w-6",attrs:{src:o(230),alt:"copy"}})])])]),t._v(" "),t.showActionButton?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleRedirection}},[t._v("\n        Go Home\n      ")])]):t._e(),t._v(" "),t.actionPath?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleClick}},[t._v("\n        Proceed To Reset Password\n      ")])]):t._e(),t._v(" "),t.resetPassword?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleLogin}},[t._v("\n        Proceed To Login\n      ")])]):t._e()])]):t._e()}),r,!1,null,"4f91f381",null);e.default=component.exports},536:function(t,e,o){t.exports={}},548:function(t,e,o){"use strict";o(536)},565:function(t,e,o){"use strict";o.r(e);o(28),o(12);var r={layout:"auth",data:function(){return{processing:!1,showSuccessModal:!1,otp:"",form:{matric:""},isTyping:!1}},computed:{isFormValid:function(){return!!this.form.matric&&this.isMatricValid},isMatricValid:function(){return/^\d{9}$/.test(this.form.matric)}},methods:{validateMatricNumber:function(){this.isTyping=!0},handleForgotPassword:function(){var t=this;this.processing=!0,this.$axios.post("https://nimelssa-elections-backend.onrender.com/api/auth/forgot-password",this.form).then((function(e){t.otp=e.data.otp,t.showSuccessModal=!0,sessionStorage.setItem("matric",t.form.matric)})).catch((function(e){var o;console.error(e.response);var r=(null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.message)||"Failed to process request. Please try again.";t.$toastr.e(r)})).finally((function(){t.processing=!1}))}}},l=(o(548),o(16)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50"},[e("div",{staticClass:"lg:grid lg:min-h-screen lg:grid-cols-12"},[e("section",{staticClass:"relative flex h-48 items-end bg-gradient-to-br from-gray-900 to-blue-900 lg:col-span-5 lg:h-full xl:col-span-6 overflow-hidden"},[e("img",{staticClass:"absolute inset-0 h-full w-full object-cover opacity-20 mix-blend-overlay",attrs:{alt:"NIMELSSA Background",src:o(357)}}),t._v(" "),e("div",{staticClass:"absolute inset-0 bg-gradient-to-tr from-blue-600/20 to-purple-600/20"}),t._v(" "),e("div",{staticClass:"hidden lg:relative lg:block lg:p-12 z-10"},[e("nuxt-link",{staticClass:"inline-block group",attrs:{to:"/"}},[e("div",{staticClass:"flex items-center space-x-3 bg-white/10 backdrop-blur-lg rounded-2xl p-3 transition-all duration-300 group-hover:bg-white/20"},[e("img",{staticClass:"h-14 w-14 rounded-xl",attrs:{alt:"NIMELSSA Logo",src:o(91)}}),t._v(" "),e("span",{staticClass:"text-white font-bold text-lg hidden xl:block"},[t._v("NIMELSSA")])])]),t._v(" "),e("div",{staticClass:"mt-16 space-y-6"},[t._m(0),t._v(" "),e("h2",{staticClass:"text-4xl font-bold text-white leading-tight xl:text-5xl"},[t._v("\n            Need Help Accessing Your Account?\n          ")]),t._v(" "),e("p",{staticClass:"text-lg leading-relaxed text-white/90 max-w-lg"},[t._v("\n            Don't worry! Enter your matric number and we'll send you password reset instructions to help you get back into your NIMELSSA account.\n          ")]),t._v(" "),e("div",{staticClass:"flex items-center space-x-2 text-blue-200 pt-4"},[e("svg",{staticClass:"w-5 h-5",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),t._v(" "),e("span",{staticClass:"text-sm font-medium"},[t._v("Secure Password Recovery")])])])],1)]),t._v(" "),e("main",{staticClass:"flex items-center justify-center px-4 py-8 sm:px-6 lg:col-span-7 lg:px-12 lg:py-12 xl:col-span-6"},[e("div",{staticClass:"w-full max-w-md lg:max-w-lg"},[e("div",{staticClass:"flex justify-center lg:hidden -mt-20 mb-8"},[e("nuxt-link",{staticClass:"inline-block",attrs:{to:"/"}},[e("div",{staticClass:"flex items-center justify-center h-20 w-20 bg-white rounded-2xl shadow-xl border-4 border-white"},[e("img",{staticClass:"h-16 w-16",attrs:{alt:"NIMELSSA Logo",src:o(91)}})])])],1),t._v(" "),e("div",{staticClass:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 sm:p-8"},[e("div",{staticClass:"flex justify-center mb-6"},[e("div",{staticClass:"w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-2xl flex items-center justify-center shadow-lg"},[e("svg",{staticClass:"w-8 h-8 text-white",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"}})])])]),t._v(" "),t._m(1),t._v(" "),e("form",{staticClass:"space-y-5",on:{submit:function(e){return e.preventDefault(),t.handleForgotPassword.apply(null,arguments)}}},[e("div",[e("label",{staticClass:"block text-sm font-semibold text-gray-700 mb-2",attrs:{for:"matric"}},[t._v("\n                Matric Number\n              ")]),t._v(" "),e("div",{staticClass:"relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.matric,expression:"form.matric"}],class:["w-full rounded-xl border-2 py-3.5 pl-4 pr-12 bg-white text-sm text-gray-900 shadow-sm transition-all duration-200 focus:ring-4 focus:ring-blue-100 outline-none",!t.isMatricValid&&t.isTyping?"border-red-400 focus:border-red-500":"border-gray-200 focus:border-blue-500",t.processing?"cursor-not-allowed opacity-60":""],attrs:{id:"matric",type:"number",name:"matric",disabled:t.processing,placeholder:"Enter your 9-digit matric number"},domProps:{value:t.form.matric},on:{input:[function(e){e.target.composing||t.$set(t.form,"matric",e.target.value)},t.validateMatricNumber]}}),t._v(" "),t.isMatricValid?e("div",{staticClass:"absolute right-4 top-1/2 -translate-y-1/2"},[e("svg",{staticClass:"w-5 h-5 text-green-500",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[!t.isMatricValid&&t.isTyping?e("p",{staticClass:"mt-2 text-xs text-red-600 flex items-center space-x-1"},[e("svg",{staticClass:"w-4 h-4",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"}})]),t._v(" "),e("span",[t._v("Matric number must be exactly 9 digits")])]):t._e()])],1),t._v(" "),e("div",{staticClass:"bg-blue-50 border border-blue-200 rounded-xl p-4"},[e("div",{staticClass:"flex items-start space-x-3"},[e("svg",{staticClass:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"}})]),t._v(" "),t._m(2)])]),t._v(" "),e("button",{staticClass:"w-full mt-6 relative overflow-hidden bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-lg group",attrs:{type:"submit",disabled:!t.isFormValid||t.processing}},[t.processing?e("span",{staticClass:"relative z-10 flex items-center justify-center space-x-2"},[e("svg",{staticClass:"animate-spin h-5 w-5",attrs:{viewBox:"0 0 24 24",fill:"none"}},[e("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t._v(" "),e("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" "),e("span",[t._v("Processing...")])]):e("span",{staticClass:"relative z-10 flex items-center justify-center space-x-2"},[e("svg",{staticClass:"w-5 h-5",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"}})]),t._v(" "),e("span",[t._v("Send Reset Instructions")])]),t._v(" "),e("div",{staticClass:"absolute inset-0 -z-0 bg-gradient-to-r from-yellow-400 to-orange-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]),t._v(" "),e("div",{staticClass:"text-center pt-4"},[e("nuxt-link",{staticClass:"inline-flex items-center space-x-2 text-sm font-semibold text-gray-700 hover:text-blue-600 transition-colors group",attrs:{to:"/auth/login"}},[e("svg",{staticClass:"w-4 h-4 group-hover:-translate-x-1 transition-transform",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"}})]),t._v(" "),e("span",[t._v("Back to Login")])])],1),t._v(" "),e("div",{staticClass:"pt-4 border-t border-gray-200"},[e("p",{staticClass:"text-center text-sm text-gray-600"},[t._v("\n                Don't have an account?\n                "),e("nuxt-link",{staticClass:"font-semibold text-blue-600 hover:text-blue-800 underline underline-offset-2 transition-colors",attrs:{to:"/auth/signup"}},[t._v("\n                  Sign up here\n                ")])],1)])])]),t._v(" "),e("div",{staticClass:"mt-6 flex items-center justify-center space-x-2 text-gray-600"},[e("svg",{staticClass:"w-5 h-5 text-green-600",attrs:{fill:"currentColor",viewBox:"0 0 20 20"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"}})]),t._v(" "),e("span",{staticClass:"text-sm font-medium"},[t._v("Your data is secure and encrypted")])])])])]),t._v(" "),e("SuccessModal",{attrs:{showCloseButton:!1,showActionButton:!1,title:"Check Your Email!",desc:"We are processing your password reset request. Please copy the 4-digit PIN below to reset your password.",show:t.showSuccessModal,actionPath:"/auth/reset",extra:t.otp},on:{close:function(e){t.showSuccessModal=!1}}})],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"inline-block px-4 py-2 bg-yellow-500/20 backdrop-blur-sm rounded-full border border-yellow-300/30 mb-4"},[t("span",{staticClass:"text-yellow-200 text-sm font-semibold"},[this._v("Password Recovery")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-center mb-6"},[e("h1",{staticClass:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2"},[t._v("Forgot Password?")]),t._v(" "),e("p",{staticClass:"text-sm text-gray-600"},[t._v("\n              No worries! We'll send password reset information to your registered email.\n            ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-1"},[e("h4",{staticClass:"text-sm font-semibold text-blue-900 mb-1"},[t._v("What happens next?")]),t._v(" "),e("p",{staticClass:"text-xs text-blue-700"},[t._v("\n                    We'll send a 4-digit OTP to your registered email address. Use this code to reset your password securely.\n                  ")])])}],!1,null,"7eb2274e",null);e.default=component.exports;installComponents(component,{SuccessModal:o(367).default})}}]);