(window.webpackJsonp=window.webpackJsonp||[]).push([[28,18],{357:function(t,e,n){t.exports=n.p+"img/add18.cbb5dc4.jpg"},358:function(t,e,n){t.exports={}},368:function(t,e,n){"use strict";n(358)},373:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this._self._c;return t("div",{staticClass:"flex justify-center items-center"},[t("img",{staticClass:"h-32 w-32",attrs:{src:n(229),alt:"celebration"}})])}],r={props:{show:{type:Boolean,default:!1},title:{type:String,default:"Thanks For Voting"},actionPath:{type:String,default:""},extra:{type:String,default:"5000"},desc:{type:String,default:"Your vote was submitted successfully!"},showActionButton:{type:Boolean,default:!1},resetPassword:{type:Boolean,default:!1},showCloseButton:{type:Boolean,default:!1}},methods:{close:function(){this.$emit("close")},handleRedirection:function(){this.$router.push("/election"),this.close()},handleClick:function(){this.$router.push("/auth/reset"),this.close()},handleLogin:function(){this.$router.push("/auth/login"),this.close()},copyToClipboard:function(){var t=this,text=this.extra;if(navigator.clipboard)navigator.clipboard.writeText(text).then((function(){t.$toastr.s("OTP pin was successfully copied to clipboard!")})).catch((function(e){t.$toastr.e('Could not copy text: "',e)}));else{var textarea=document.createElement("textarea");textarea.value=text,textarea.style.position="fixed",textarea.style.opacity=0,document.body.appendChild(textarea),textarea.focus(),textarea.select();try{document.execCommand("copy")?this.$toastr.s("OTP pin was successfully copied to clipboard!"):this.$toastr.e("Could not copy text")}catch(t){this.$toastr.e('Could not copy text: "',t)}document.body.removeChild(textarea)}}}},l=(n(368),n(16)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 p-4"},[e("div",{staticClass:"bg-white rounded-lg overflow-hidden shadow-xl max-w-md w-full mx-auto"},[t.showCloseButton?e("div",{staticClass:"px-4 py-2 flex justify-between items-center border-b border-gray-200"},[e("h2",{staticClass:"text-lg font-semibold"},[t._v("Success")]),t._v(" "),e("button",{staticClass:"text-gray-600 hover:text-gray-900",on:{click:t.close}},[t._v("\n        Ã—\n      ")])]):t._e(),t._v(" "),e("div",{staticClass:"p-4 text-center space-y-6"},[t._m(0),t._v(" "),e("h1",{staticClass:"text-center text-xl font-semibold"},[t._v(t._s(t.title))]),t._v(" "),e("p",{staticClass:"text-green-600 font-semibold"},[t._v(t._s(t.desc))]),t._v(" "),t.resetPassword?t._e():e("div",{staticClass:"flex justify-center items-center gap-x-3"},[e("button",{staticClass:"flex justify-center items-center gap-x-3",on:{click:t.copyToClipboard}},[e("p",{staticClass:"font-black text-2xl text-gray-700"},[t._v(t._s(t.extra||"500"))]),t._v(" "),e("img",{staticClass:"h-6 w-6",attrs:{src:n(230),alt:"copy"}})])])]),t._v(" "),t.showActionButton?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleRedirection}},[t._v("\n        Go Home\n      ")])]):t._e(),t._v(" "),t.actionPath?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleClick}},[t._v("\n        Proceed To Reset Password\n      ")])]):t._e(),t._v(" "),t.resetPassword?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleLogin}},[t._v("\n        Proceed To Login\n      ")])]):t._e()])]):t._e()}),o,!1,null,"4f91f381",null);e.default=component.exports},588:function(t,e,n){t.exports={}},633:function(t,e,n){"use strict";n(588)},648:function(t,e,n){"use strict";n.r(e);n(27),n(152),n(72),n(73);var o=n(8),r=(n(40),n(12),n(35),n(34),n(28),n(74),n(256),n(255),{layout:"auth",data:function(){return{processing:!1,showSuccessModal:!1,submitting:!1,deviceId:"",candidatesList:[],votes:{president:"",vice_president:"",academic_secretary:"",general_secretary:"",assistant_general_secretary:"",public_relations_officer:"",sport_secretary:"",financial_secretary:"",welfare_secretary:"",treasurer:"",senate_200:[],senate_300:[],senate_400:[],senate_500:[]},matricNumber:""}},computed:{isFormValid:function(){return this.votes.president||this.votes.vice_president||this.votes.academic_secretary||this.votes.general_secretary||this.votes.financial_secretary||this.votes.welfare_secretary||this.votes.treasurer||this.votes.assistant_general_secretary||this.votes.public_relations_officer||this.votes.sport_secretary||3===this.votes.senate_200.length||0===this.votes.senate_200.length||3===this.votes.senate_300.length||0===this.votes.senate_300.length||3===this.votes.senate_400.length||0===this.votes.senate_400.length||3===this.votes.senate_500.length||0===this.votes.senate_500.length}},methods:{submitVotes:function(){var t=this,e={deviceId:this.deviceId,votes:this.votes};this.submitting=!0,this.$axios.post("https://nimelssa-elections-backend.onrender.com/api/election/submitVote",e).then((function(e){var n;t.$toastr.s((null==e||null===(n=e.data)||void 0===n?void 0:n.message)||"Your vote was submitted successfully."),t.$router.push("/election/voting-categories"),t.submitting=!1})).catch((function(e){var n;t.$toastr.e((null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||"Something went wrong!")})).finally((function(){t.submitting=!1}))},fetchCandidates:function(){var t=this;this.processing=!0;var e=JSON.parse(localStorage.getItem("user"));console.log(e,"Level here"),this.$axios.get("https://nimelssa-elections-backend.onrender.com/api/candidate/level-candidates?level=".concat(String(e.level))).then((function(e){console.log(e.data,"here");var n=e.data;t.candidatesList=t.mapCandidatesToRoles(n)})).catch((function(t){})).finally((function(){t.processing=!1}))},mapCandidatesToRoles:function(t){var e={PRESIDENT:"president",VICE_PRESIDENT:"vice_president",SPORT_SECRETARY:"sport_secretary",ACADEMIC_SECRETARY:"academic_secretary",GENERAL_SECRETARY:"general_secretary",ASSISTANT_GENERAL_SECRETARY:"assistant_general_secretary",PUBLIC_RELATIONS_OFFICER:"public_relations_officer",SOCIAL_SECRETARY:"social_secretary",SENATE_200:"senate_200",SENATE_300:"senate_300",SENATE_400:"senate_400",SENATE_500:"senate_500",FINANCIAL_SECRETARY:"financial_secretary",WELFARE_SECRETARY:"welfare_secretary",TREASURER:"treasurer"},n=[];return Object.keys(e).forEach((function(t){n.push({name:t.replace("_"," "),key:e[t],candidates:[]})})),t.forEach((function(t){var o=n.find((function(n){return n.key===e[t.position]}));o&&o.candidates.push({id:t._id,name:t.name,image:t.image,level:t.level,quote:t.quote,cloudinary_id:t.cloudinary_id})})),n},toggleSenateSelection:function(t,e){0===this.votes[t].length&&(this.votes[t]=[]);var n=this.votes[t],o=n.indexOf(e);o>-1?n.splice(o,1):n.length<3&&n.push(e)},withholdSenateVote:function(t){this.votes[t]=[]}},components:{SuccessModal:n(373).default},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.fetchCandidates(),e.next=3,t.$getDeviceId();case 3:t.deviceId=e.sent;case 4:case"end":return e.stop()}}),e)})))()}}),l=(n(633),n(16)),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("main",[e("section",{staticClass:"bg-white"},[e("div",{staticClass:"lg:grid lg:min-h-screen lg:grid-cols-12"},[e("section",{staticClass:"relative flex h-32 items-end bg-gray-900 lg:col-span-5 lg:h-full xl:col-span-6 lg:sticky lg:top-0"},[e("img",{staticClass:"absolute inset-0 h-full w-full object-cover opacity-80",attrs:{alt:"Night",src:n(357)}}),t._v(" "),e("div",{staticClass:"hidden lg:relative lg:block lg:p-12"},[e("a",{staticClass:"block text-white",attrs:{href:"/"}},[e("span",{staticClass:"sr-only"},[t._v("Home")]),t._v(" "),e("svg",{staticClass:"h-8 sm:h-10",attrs:{viewBox:"0 0 28 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}})]),t._v(" "),e("h2",{staticClass:"mt-6 text-2xl font-bold text-white sm:text-3xl md:text-4xl"},[t._v("\n            Welcome to The Nigerian Medical Laboratory Science Students\n            Association (NIMELSSA)\n          ")]),t._v(" "),e("p",{staticClass:"mt-4 leading-relaxed text-white/90"},[t._v("\n            The Nigerian Medical Laboratory Science Students Association\n            (NIMELSSA) is the student body Association of the department of\n            Medical Laboratory Science and is one of the departments of the\n            University of Lagos (UNILAG) under the College of Medicine.\n          ")])])]),t._v(" "),e("form",{staticClass:"px-4 py-8 sm:px-12 lg:col-span-7 lg:px-16 lg:py-12 xl:col-span-6 h-screen overflow-y-auto w-full",on:{submit:function(e){return e.preventDefault(),t.submitVotes.apply(null,arguments)}}},[t._m(0),t._v(" "),!t.processing&&t.candidatesList.length?e("div",{staticClass:"grid grid-cols-1 lg:grid-cols-2 gap-6 pt-6"},t._l(t.candidatesList,(function(n){return e("div",{key:n.key,staticClass:"mb-8"},[n.candidates.length?e("h2",{staticClass:"text-base lg:text-lg text-gray-900 font-bold"},[t._v("\n              "+t._s(n.name)+"\n            ")]):t._e(),t._v(" "),n.candidates.length?e("p",{staticClass:"mb-4 text-sm"},[t._v("\n              Select "+t._s(n.key.startsWith("senate")?"up to 3":"only one")+" candidate or withhold your vote\n            ")]):t._e(),t._v(" "),n.key.startsWith("senate")&&n.candidates.length?e("div",[t._l(n.candidates,(function(o){return e("div",{key:o.id,staticClass:"flex items-center mb-4"},[e("label",{staticClass:"flex cursor-pointer justify-between gap-4 w-full rounded-lg border border-gray-300 bg-white p-4 text-sm font-medium shadow-sm hover:border-gray-200",attrs:{for:o.id},on:{click:function(e){return t.toggleSenateSelection(n.key,o.id)}}},[e("input",{staticClass:"mr-4 h-5 w-5",attrs:{type:"checkbox",name:n.key,id:o.id},domProps:{value:o.id,checked:t.votes[n.key].includes(o.id)}}),t._v(" "),e("img",{staticClass:"w-16 rounded-lg h-16 object-cover mr-4",attrs:{src:o.image,alt:"Candidate Image"}}),t._v(" "),e("div",[e("h3",{staticClass:"font-semibold"},[t._v(t._s(o.name))]),t._v(" "),e("p",{staticClass:"text-sm font-medium text-gray-700"},[t._v(t._s(o.level)+" Level")])])])])})),t._v(" "),e("div",{staticClass:"flex items-center mb-4"},[e("label",{staticClass:"flex cursor-pointer justify-between gap-4 w-full rounded-lg border border-gray-300 bg-white p-4 text-sm font-medium shadow-sm hover:border-gray-200",attrs:{for:n.key+"-withhold"},on:{click:function(e){return t.withholdSenateVote(n.key)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.votes[n.key],expression:"votes[role.key]"}],staticClass:"mr-4 h-8 w-8",attrs:{type:"radio",name:n.key,value:"",id:n.key+"-withhold"},domProps:{checked:t._q(t.votes[n.key],"")},on:{change:function(e){return t.$set(t.votes,n.key,"")}}}),t._v(" "),t._m(1,!0)])])],2):t._e(),t._v(" "),t._l(n.candidates,(function(o){return!n.key.startsWith("senate")&&n.candidates.length?e("div",{key:o.id,staticClass:"flex items-center mb-4"},[e("label",{staticClass:"flex cursor-pointer justify-between gap-4 w-full rounded-lg border border-gray-300 bg-white p-4 text-sm font-medium shadow-sm hover:border-gray-200",attrs:{for:o.id},on:{click:function(e){t.votes[n.key]=o.id}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.votes[n.key],expression:"votes[role.key]"}],staticClass:"mr-4 h-5 w-5",attrs:{type:"radio",name:n.key,id:o.id},domProps:{value:o.id,checked:t._q(t.votes[n.key],o.id)},on:{change:function(e){return t.$set(t.votes,n.key,o.id)}}}),t._v(" "),e("img",{staticClass:"w-16 rounded-lg h-16 object-cover mr-4",attrs:{src:o.image,alt:"Candidate Image"}}),t._v(" "),e("div",[e("h3",{staticClass:"font-semibold"},[t._v(t._s(o.name))]),t._v(" "),e("p",{staticClass:"text-sm font-medium text-gray-700"},[t._v(t._s(o.level)+" Level")])])])]):t._e()})),t._v(" "),!n.key.startsWith("senate")&&n.candidates.length?e("div",{staticClass:"flex items-center mb-4"},[e("label",{staticClass:"flex cursor-pointer justify-between gap-4 w-full rounded-lg border border-gray-300 bg-white p-4 text-sm font-medium shadow-sm hover:border-gray-200",attrs:{for:n.key+"-withhold"},on:{click:function(e){t.votes[n.key]=""}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.votes[n.key],expression:"votes[role.key]"}],staticClass:"mr-4 h-8 w-8",attrs:{type:"radio",name:n.key,value:"",id:n.key+"-withhold"},domProps:{checked:t._q(t.votes[n.key],"")},on:{change:function(e){return t.$set(t.votes,n.key,"")}}}),t._v(" "),t._m(2,!0)])]):t._e()],2)})),0):t._e(),t._v(" "),e("div",{staticClass:"flex justify-center items-center mt-10"},[e("button",{staticClass:"text-white disabled:cursor-not-allowed disabled:opacity-25 bg-black rounded-lg px-6 py-3 w-full",attrs:{type:"submit",disabled:t.submitting}},[t._v("\n            "+t._s(t.submitting?"Processing":"Submit")+"\n          ")])])])])]),t._v(" "),e("SuccessModal",{attrs:{show:t.showSuccessModal},on:{close:function(e){t.showSuccessModal=!1}}})],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"sticky top-0 bg-white z-20 pt-4 pb-4 shadow-md"},[e("div",{staticClass:"mx-auto max-w-2xl text-center"},[e("h2",{staticClass:"text-2xl font-bold tracking-tight text-gray-900 sm:text-4xl"},[t._v("\n              Electoral Candidates (#NIMELSSADECIDES2024)\n            ")]),t._v(" "),e("p",{staticClass:"mt-1 text-sm lg:text-lg font-extrabold leading-8 text-gray-900"},[t._v("\n              Voting Begins: 4 days 14hrs 11mins 52seconds\n            ")])])])},function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"font-semibold"},[t._v("Withhold Vote")]),t._v(" "),e("p",{staticClass:"text-sm font-medium text-gray-700"},[t._v("\n                      Choose this option if you do not want to vote for any candidate in this category.\n                    ")])])},function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"font-semibold"},[t._v("Withhold Vote")]),t._v(" "),e("p",{staticClass:"text-sm font-medium text-gray-700"},[t._v("\n                    Choose this option if you do not want to vote for any candidate in this category.\n                  ")])])}],!1,null,"f93a0684",null);e.default=component.exports;installComponents(component,{SuccessModal:n(373).default})}}]);