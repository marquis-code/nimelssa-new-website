(window.webpackJsonp=window.webpackJsonp||[]).push([[22,17],{357:function(t,e,o){t.exports=o.p+"img/add18.cbb5dc4.jpg"},358:function(t,e,o){t.exports={}},365:function(t,e,o){"use strict";o(358)},367:function(t,e,o){"use strict";o.r(e);var r=[function(){var t=this._self._c;return t("div",{staticClass:"flex justify-center items-center"},[t("img",{staticClass:"h-32 w-32",attrs:{src:o(229),alt:"celebration"}})])}],n={props:{show:{type:Boolean,default:!1},title:{type:String,default:"Thanks For Voting"},actionPath:{type:String,default:""},extra:{type:String,default:"5000"},desc:{type:String,default:"Your vote was submitted successfully!"},showActionButton:{type:Boolean,default:!1},resetPassword:{type:Boolean,default:!1},showCloseButton:{type:Boolean,default:!1}},methods:{close:function(){this.$emit("close")},handleRedirection:function(){this.$router.push("/election"),this.close()},handleClick:function(){this.$router.push("/auth/reset"),this.close()},handleLogin:function(){this.$router.push("/auth/login"),this.close()},copyToClipboard:function(){var t=this,text=this.extra;if(navigator.clipboard)navigator.clipboard.writeText(text).then((function(){t.$toastr.s("OTP pin was successfully copied to clipboard!")})).catch((function(e){t.$toastr.e('Could not copy text: "',e)}));else{var textarea=document.createElement("textarea");textarea.value=text,textarea.style.position="fixed",textarea.style.opacity=0,document.body.appendChild(textarea),textarea.focus(),textarea.select();try{document.execCommand("copy")?this.$toastr.s("OTP pin was successfully copied to clipboard!"):this.$toastr.e("Could not copy text")}catch(t){this.$toastr.e('Could not copy text: "',t)}document.body.removeChild(textarea)}}}},l=(o(365),o(16)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 p-4"},[e("div",{staticClass:"bg-white rounded-lg overflow-hidden shadow-xl max-w-md w-full mx-auto"},[t.showCloseButton?e("div",{staticClass:"px-4 py-2 flex justify-between items-center border-b border-gray-200"},[e("h2",{staticClass:"text-lg font-semibold"},[t._v("Success")]),t._v(" "),e("button",{staticClass:"text-gray-600 hover:text-gray-900",on:{click:t.close}},[t._v("\n        ×\n      ")])]):t._e(),t._v(" "),e("div",{staticClass:"p-4 text-center space-y-6"},[t._m(0),t._v(" "),e("h1",{staticClass:"text-center text-xl font-semibold"},[t._v(t._s(t.title))]),t._v(" "),e("p",{staticClass:"text-green-600 font-semibold"},[t._v(t._s(t.desc))]),t._v(" "),t.resetPassword?t._e():e("div",{staticClass:"flex justify-center items-center gap-x-3"},[e("button",{staticClass:"flex justify-center items-center gap-x-3",on:{click:t.copyToClipboard}},[e("p",{staticClass:"font-black text-2xl text-gray-700"},[t._v(t._s(t.extra||"500"))]),t._v(" "),e("img",{staticClass:"h-6 w-6",attrs:{src:o(230),alt:"copy"}})])])]),t._v(" "),t.showActionButton?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleRedirection}},[t._v("\n        Go Home\n      ")])]):t._e(),t._v(" "),t.actionPath?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleClick}},[t._v("\n        Proceed To Reset Password\n      ")])]):t._e(),t._v(" "),t.resetPassword?e("div",{staticClass:"w-full p-3"},[e("button",{staticClass:"bg-black text-white w-full py-3 rounded-md",on:{click:t.handleLogin}},[t._v("\n        Proceed To Login\n      ")])]):t._e()])]):t._e()}),r,!1,null,"4f91f381",null);e.default=component.exports},418:function(t,e,o){var map={"./celebration.svg":229,"./copy.svg":230,"./eye-close.svg":239,"./eye-open.svg":240,"./facebook.svg":231,"./files.svg":241,"./gmail.svg":232,"./instagram.svg":233,"./microsoft.svg":242,"./pdf.svg":243,"./photos.svg":244,"./png.svg":245,"./poll.svg":246,"./project.svg":247,"./projects.svg":248,"./recent.svg":249,"./recycle.svg":250,"./results.svg":251,"./shared.svg":252,"./shopping.svg":253,"./tiktok.svg":234,"./twitter.svg":235,"./website.svg":236,"./whatsapp.svg":237,"./xlsx.svg":254,"./youtube.svg":238};function r(t){var e=n(t);return o(e)}function n(t){if(!o.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=n,t.exports=r,r.id=418},538:function(t,e,o){t.exports={}},550:function(t,e,o){"use strict";var r=o(2),n=o(256).trim;r({target:"String",proto:!0,forced:o(551)("trim")},{trim:function(){return n(this)}})},551:function(t,e,o){"use strict";var r=o(93).PROPER,n=o(3),l=o(257);t.exports=function(t){return n((function(){return!!l[t]()||"​᠎"!=="​᠎"[t]()||r&&l[t].name!==t}))}},552:function(t,e,o){"use strict";o(538)},567:function(t,e,o){"use strict";o.r(e);o(92),o(51);var r=[function(){var t=this,e=t._self._c;return e("section",{staticClass:"relative flex h-32 items-end bg-gray-900 lg:col-span-5 lg:h-full xl:col-span-6"},[e("img",{staticClass:"absolute inset-0 h-full w-full object-cover opacity-80",attrs:{alt:"Night",src:o(357)}}),t._v(" "),e("div",{staticClass:"hidden lg:relative lg:block lg:p-12"},[e("a",{staticClass:"block text-white",attrs:{href:"/"}},[e("span",{staticClass:"sr-only"},[t._v("Home")]),t._v(" "),e("img",{staticClass:"h-16 w-16",attrs:{alt:"Night",src:o(91)}})]),t._v(" "),e("h2",{staticClass:"mt-6 text-2xl font-bold text-white sm:text-3xl md:text-4xl"},[t._v("\n            Welcome to The Nigerian Medical Laboratory Science Students\n            Association (NIMELSSA)\n          ")]),t._v(" "),e("p",{staticClass:"mt-4 leading-relaxed text-white/90"},[t._v("\n            The Nigerian Medical Laboratory Science Students Association\n            (NIMELSSA) is the student body Association of the department of\n            Medical Laboratory Science and is one of the departments of the\n            University of Lagos (UNILAG) under the College of Medicine.\n          ")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"relative -mt-16 block lg:hidden"},[e("a",{staticClass:"inline-flex h-16 w-16 items-center justify-center rounded-full bg-white text-blue-600 sm:h-20 sm:w-20",attrs:{href:"/"}},[e("span",{staticClass:"sr-only"},[t._v("Home")]),t._v(" "),e("img",{staticClass:"h-16 w-16",attrs:{alt:"Night",src:o(91)}})])])},function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"font-semibold text-2xl"},[t._v("Reset Password")]),t._v(" "),e("p",{staticClass:"text-sm text-gray-600"},[t._v("\n                Your new password must be different from previously used\n                password\n              ")])])},function(){var t=this._self._c;return t("div",{staticClass:"flex items-center justify-between"},[t("label",{staticClass:"block text-sm font-medium leading-6 text-gray-900",attrs:{for:"password"}},[this._v("Password")])])}],n=(o(28),o(115),o(550),o(12),{layout:"auth",data:function(){return{processing:!1,showSuccessModal:!1,showPassword:!1,form:{matric:"",newPassword:"",otp:""},otpDigits:["","","",""],isTyping:!1}},computed:{isFormValid:function(){return!!this.form.matric&&!!this.form.newPassword&&!!this.form.otp&&this.isMatricValid},eye:function(){return this.showPassword?"eye-open.svg":"eye-close.svg"},isMatricValid:function(){return/^\d{9}$/.test(this.form.matric)}},methods:{validateMatricNumber:function(){this.isTyping=!0},handleOtpInput:function(t,e){var o=e.target.value;if(/^\d*$/.test(o)){if(this.otpDigits[t]=o,this.form.otp=this.otpDigits.join(""),o&&t<3){var r=this.$refs["otpInput".concat(t+1)];r&&r[0]&&r[0].focus()}}else this.otpDigits[t]=""},handleOtpKeydown:function(t,e){if("Backspace"===e.key&&!this.otpDigits[t]&&t>0){var o=this.$refs["otpInput".concat(t-1)];o&&o[0]&&o[0].focus()}if("ArrowLeft"===e.key&&t>0){var r=this.$refs["otpInput".concat(t-1)];r&&r[0]&&r[0].focus()}if("ArrowRight"===e.key&&t<3){var n=this.$refs["otpInput".concat(t+1)];n&&n[0]&&n[0].focus()}},handleOtpPaste:function(t){t.preventDefault();var e=t.clipboardData.getData("text").trim();if(/^\d{4}$/.test(e)){for(var i=0;i<4;i++)this.otpDigits[i]=e[i];this.form.otp=e;var o=this.$refs.otpInput3;o&&o[0]&&o[0].focus()}},handleReset:function(){var t=this;this.processing=!0,this.$axios.post("https://nimelssa-elections-backend.onrender.com/api/auth/reset-password",this.form).then((function(e){t.showSuccessModal=!0,sessionStorage.removeItem("matric")})).catch((function(e){console.error(e.response),t.$toastr.e(e.response.data.message)})).finally((function(){t.processing=!1}))},fetchMatric:function(){var t=sessionStorage.getItem("matric");this.form.matric=t}},mounted:function(){this.fetchMatric();var t=this.$refs.otpInput0;t&&t[0]&&t[0].focus()}}),l=(o(552),o(16)),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("main",[e("section",{staticClass:"bg-white"},[e("div",{staticClass:"lg:grid lg:min-h-screen lg:grid-cols-12"},[t._m(0),t._v(" "),e("main",{staticClass:"flex items-center justify-center px-8 py-8 sm:px-12 lg:col-span-7 lg:px-16 lg:py-12 xl:col-span-6 w-full"},[e("div",{staticClass:"max-w-xl lg:max-w-2xl w-full"},[t._m(1),t._v(" "),e("form",{staticClass:"mt-8 w-full space-y-6",on:{submit:function(e){return e.preventDefault(),t.handleReset.apply(null,arguments)}}},[t._m(2),t._v(" "),e("div",{staticClass:"col-span-6 w-full"},[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"Matric"}},[t._v("\n                Matric\n              ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.matric,expression:"form.matric"}],staticClass:"mt-1 w-full rounded-md disabled:cursor-not-allowed border-gray-200 py-3 border outline-none px-3 bg-white text-sm text-gray-700 shadow-sm",class:{"border-red-500":!t.isMatricValid&&t.isTyping,"border-gray-300":t.isMatricValid||!t.isTyping},attrs:{id:"Matric",type:"number",name:"matric",disabled:t.processing},domProps:{value:t.form.matric},on:{input:[function(e){e.target.composing||t.$set(t.form,"matric",e.target.value)},t.validateMatricNumber]}}),t._v(" "),!t.isMatricValid&&t.isTyping?e("p",{staticClass:"mt-1 text-sm text-red-500"},[t._v("\n                Invalid matric number\n              ")]):t._e()]),t._v(" "),e("div",{staticClass:"col-span-6 w-full relative"},[t._m(3),t._v(" "),"checkbox"==(t.showPassword?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.newPassword,expression:"form.newPassword"}],staticClass:"mt-1 w-full rounded-md disabled:cursor-not-allowed border-gray-200 py-3 border outline-none px-3 bg-white text-sm text-gray-700 shadow-sm",attrs:{id:"Password",name:"password",disabled:t.processing,type:"checkbox"},domProps:{checked:Array.isArray(t.form.newPassword)?t._i(t.form.newPassword,null)>-1:t.form.newPassword},on:{change:function(e){var o=t.form.newPassword,r=e.target,n=!!r.checked;if(Array.isArray(o)){var l=t._i(o,null);r.checked?l<0&&t.$set(t.form,"newPassword",o.concat([null])):l>-1&&t.$set(t.form,"newPassword",o.slice(0,l).concat(o.slice(l+1)))}else t.$set(t.form,"newPassword",n)}}}):"radio"==(t.showPassword?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.newPassword,expression:"form.newPassword"}],staticClass:"mt-1 w-full rounded-md disabled:cursor-not-allowed border-gray-200 py-3 border outline-none px-3 bg-white text-sm text-gray-700 shadow-sm",attrs:{id:"Password",name:"password",disabled:t.processing,type:"radio"},domProps:{checked:t._q(t.form.newPassword,null)},on:{change:function(e){return t.$set(t.form,"newPassword",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.newPassword,expression:"form.newPassword"}],staticClass:"mt-1 w-full rounded-md disabled:cursor-not-allowed border-gray-200 py-3 border outline-none px-3 bg-white text-sm text-gray-700 shadow-sm",attrs:{id:"Password",name:"password",disabled:t.processing,type:t.showPassword?"text":"password"},domProps:{value:t.form.newPassword},on:{input:function(e){e.target.composing||t.$set(t.form,"newPassword",e.target.value)}}}),t._v(" "),e("img",{staticClass:"absolute cursor-pointer top-9 right-4 h-6 w-6",attrs:{src:o(418)("./".concat(t.eye)),alt:""},on:{click:function(e){t.showPassword=!t.showPassword}}})]),t._v(" "),e("div",{staticClass:"col-span-6 w-full"},[e("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"otp"}},[t._v("\n                OTP\n              ")]),t._v(" "),e("div",{staticClass:"flex gap-4 mt-2"},t._l(t.otpDigits,(function(o,r){return e("input",{directives:[{name:"model",rawName:"v-model",value:t.otpDigits[r],expression:"otpDigits[index]"}],key:r,ref:"otpInput".concat(r),refInFor:!0,staticClass:"h-16 w-16 rounded-full border border-gray-300 text-center text-3xl text-gray-500 focus:border-green-400 focus:shadow outline-none disabled:cursor-not-allowed",attrs:{type:"text",maxlength:"1",disabled:t.processing,placeholder:"0"},domProps:{value:t.otpDigits[r]},on:{input:[function(e){e.target.composing||t.$set(t.otpDigits,r,e.target.value)},function(e){return t.handleOtpInput(r,e)}],keydown:function(e){return t.handleOtpKeydown(r,e)},paste:t.handleOtpPaste}})})),0)]),t._v(" "),e("div",{staticClass:"w-full"},[e("button",{staticClass:"w-full shrink-0 disabled:opacity-25 disabled:cursor-not-allowed rounded-md border bg-black px-12 py-3 text-sm font-medium text-white transition",attrs:{disabled:!t.isFormValid||t.processing}},[t._v("\n                "+t._s(t.processing?"processing...":"Submit")+"\n              ")]),t._v(" "),e("p",{staticClass:"pt-4 text-sm text-gray-500 sm:mt-0 text-center font-semibold"},[t._v("\n                Don't have an account?\n                "),e("nuxt-link",{staticClass:"text-gray-700 underline",attrs:{to:"/auth/signup"}},[t._v("\n                  Sign up ")]),t._v(".\n              ")],1)])])])])])]),t._v(" "),e("SuccessModal",{attrs:{showCloseButton:!1,showActionButton:!1,resetPassword:!0,title:"Congratulations!!!",desc:"Your password has been updated successfully. Proceed To Login",show:t.showSuccessModal},on:{close:function(e){t.showSuccessModal=!1}}})],1)}),r,!1,null,null,null);e.default=component.exports;installComponents(component,{SuccessModal:o(367).default})}}]);